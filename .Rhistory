geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
labs(title = "Overdose Count by Zip in 2022",
subtitle = "Overdose counts by ZIP combine both nonfatal and fatal overdose data.",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(hjust = 0.5, size = 12)
)
print(opioid_2022)
opioid_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
labs(title = "Overdose Count by Zip in 2022",
subtitle = "Counts combine both nonfatal and fatal overdose data.",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(hjust = 0.5, size = 12)
)
print(opioid_2022)
opioid_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
labs(title = "Overdose Count by Zip in 2022",
subtitle = "Counts combine both nonfatal and fatal overdose data.",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_2022)
census_data <-
get_acs(geography = "tract",
variables = vars,
state = "IL",
county = "Cook",
geometry = T,
output = "wide",
year = 2020) |>
select(-c(B01003_001M,B01001I_001M,B01001B_001M,B07011_001M))
tract_shape <- st_read(file.path(path,
"gchicago_tracts.shp"))
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\shape_files\\chicago_tracts"
tract_shape <- st_read(file.path(path,
"gchicago_tracts.shp"))
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\shape_files\\chicago_tracts\\"
tract_shape <- st_read(file.path(path,
"gchicago_tracts.shp"))
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\shape_files\\chicago_tracts\\"
tract_shape <- st_read(file.path(path,
"chicago_tracts.shp"))
unhoused_dense <- read_csv(file.path(path, "high density unhoused.csv"))
##Path##
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\outside_data"
unhoused_dense <- read_csv(file.path(path, "high density unhoused.csv"))
View(tract_shape)
View(unhoused_dense)
tract_shape <- tract_shape %>%
filter(grepl("7609", "4901", "108", "8104", "314", "3201"))
View(tract_shape)
tract_shape <- tract_shape %>%
filter(grepl("7609", "4901", "108", "8104", "314", "3201", GEOID))
unhoused_dense <- read_csv(file.path(path, "high density unhoused.csv"))
View(unhoused_dense)
View(tract_shape)
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\shape_files\\chicago_tracts\\"
tract_shape <- st_read(file.path(path,
"chicago_tracts.shp"))
View(tract_shape)
unhoused_dense <- read_csv(file.path(path, "high density unhoused.csv"))
##Path##
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\outside_data"
unhoused_dense <- read_csv(file.path(path, "high density unhoused.csv"))
View(unhoused_dense)
high_dense_shape <- merge(tract_shape, unhoused_dense, by = "GEOID")
View(high_dense_shape)
View(unhoused_dense)
View(high_dense_shape)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, aes(pattern = "stripe", color = "black"), color = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "stripe_pattern_color", color = "black") +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
library(ggpattern)
install.packages("ggpattern")
library(ggpattern)
install.packages("ggpattern")
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, aes(fill = "stripe_pattern_color")) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, aes(fill = "green")) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, color = "green", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, color = "green", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "palegreen4", alpha = 0.3, fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "palegreen4", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Stripes Represent High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2020",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
pioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2022",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.5, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.5),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2022",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0.9, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0.9),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2022",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = -0.6, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = -0.6),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2022",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = -0.2, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = -0.2),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2022",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = -0.1, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
opioid_unhoused_2022 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2022), color = NA) +
geom_sf(data = high_dense_shape, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2022",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2022)
View(tract_shape)
View(tract_shape)
##Path##
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\outside_data"
unhoused_dense_22 <- read_csv(file.path(path, "high density unhoused_22.csv"))
unhoused_dense_21 <- read_csv(file.path(path, "high density unhoused_21.csv"))
high_dense_shape_22 <- merge(tract_shape, unhoused_dense_22, by = "GEOID")
high_dense_shape_21 <- merge(tract_shape, unhoused_dense_21, by = "GEOID")
opioid_unhoused_2021 <- ggplot() +
geom_sf(data = zip_chi_shape) +
geom_sf(data = opioid_shape, aes(fill = Overdose_Count_by_Zip_2021), color = NA) +
geom_sf(data = high_dense_shape_21, fill = "darkgoldenrod2", fill = NA) +
labs(title = "Overdose Count (Nonfatal and Fatal) by Zip in 2021",
subtitle = "Yellow Indicates High-Density Populations of Unhoused People",
caption = "Data: IL Dept of Public Health") +
scale_fill_distiller(name="Opioid Overdose Count", palette = "BuPu", trans = "reverse",
breaks = pretty_breaks(n = 5)) +
theme_map() +
theme(
plot.title = element_text(hjust = 0, size= 13),
plot.caption = element_text(face = "italic", size = 8),
plot.subtitle = element_text(size = 10, hjust = 0),
legend.title = element_text(size = 12),
legend.title.align = 0.5
)
print(opioid_unhoused_2021)
View(opioid_shape)
##Path##
path <- "C:\\Users\\emmas\\OneDrive\\Documents\\GitHub\\Housing-and-Migrants-Chicago\\outside_data"
age_zip <- read_csv(file.path(path, "acs_med_age_zip.csv"))
View(age_zip)
##add age
opioid_shape <- merge(opioid_shape, age_zip, by = "zip")
View(opioid_shape)
edu_zip <- read_csv(file.path(path, "acs_education_zip.csv"))
edu_zip <- read_csv(file.path(path, "acs_education_zip.csv"))
##add education
opioid_shape <- merge(opioid_shape, edu_zip, by = "zip")
View(opioid_shape)
View(opioid_shape)
data <- bi_class(opioid_shape, x = Overdose_Count-by_Zip_2022, y = perc_college_or_more, style = "quantile", dim = 3)
data <- bi_class(opioid_shape, x = Overdose_Count_by_Zip_2022, y = perc_college_or_more, style = "quantile", dim = 3)
edu_opi_plot <- ggplot() +
geom_sf(data = opioid_shape) +
geom_sf(data = data, mapping = aes(fill = bi_class), color = "white", size = 0.1, show.legend = FALSE) +
bi_scale_fill(pal = "GrPink", dim = 3) +
labs(
title = "Overdoce COunt and Percent College Educated",
subtitle = "By Zip Code 2022",
caption = "Data: IDPH, ACS"
) +
bi_theme()
legend <- bi_legend(pal = "GrPink",
dim = 3,
xlab = "+ Infant Mortality Rate",
ylab = "+ % LBW ",
size = 10)
infant_plot <- ggdraw() +
draw_plot(lbw_plot, 0, 0, 1, 1) +
draw_plot(legend, 0.2, .4, 0.2, 0.2)
edu_opi_plot <- ggplot() +
geom_sf(data = opioid_shape) +
geom_sf(data = data, mapping = aes(fill = bi_class), color = "white", size = 0.1, show.legend = FALSE) +
bi_scale_fill(pal = "GrPink", dim = 3) +
labs(
title = "Overdose COunt and Percent College Educated",
subtitle = "By Zip Code 2022",
caption = "Data: IDPH, ACS"
) +
bi_theme()
legend <- bi_legend(pal = "GrPink",
dim = 3,
xlab = "+ Infant Mortality Rate",
ylab = "+ % LBW ",
size = 10)
infant_plot <- ggdraw() +
draw_plot(edu_opi_plot, 0, 0, 1, 1) +
draw_plot(legend, 0.2, .4, 0.2, 0.2)
print(edu_opi_plot)
library(biscale)
ata <- bi_class(opioid_shape, x = Overdose_Count_by_Zip_2022, y = perc_college_or_more, style = "quantile", dim = 3)
# plot
edu_opi_plot <- ggplot() +
geom_sf(data = opioid_shape) +
geom_sf(data = data, mapping = aes(fill = bi_class), color = "white", size = 0.1, show.legend = FALSE) +
bi_scale_fill(pal = "GrPink", dim = 3) +
labs(
title = "Overdose COunt and Percent College Educated",
subtitle = "By Zip Code 2022",
caption = "Data: IDPH, ACS"
) +
bi_theme()
legend <- bi_legend(pal = "GrPink",
dim = 3,
xlab = "+ Infant Mortality Rate",
ylab = "+ % LBW ",
size = 10)
infant_plot <- ggdraw() +
draw_plot(edu_opi_plot, 0, 0, 1, 1) +
draw_plot(legend, 0.2, .4, 0.2, 0.2)
print(edu_opi_plot)
data <- bi_class(opioid_shape, x = Overdose_Count_by_Zip_2022, y = perc_college_or_more, style = "quantile", dim = 3)
View(data)
opioid_shape <- opioid_shape %>%
(filter(!is.na(Overdose_Count_by_Zip_2022)))
View(opioid_shape)
opioid_shape <- opioid_shape %>%
(filter(!is.na(Overdose_Count_by_Zip_2022)))
